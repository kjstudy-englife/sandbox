## NEXT.js 誕生の背景

React は SPA であるためページ数が少ない小規模アプリケーションには向いているが、
ページ数が多い大規模サイトでは初回の読み込み速度が著しく低下してしまうという課題があり、それを克服するために誕生した。

React ではまず空の画面を取得しクライアント側で JS をレンダリングするが、
Next では JS がプリレンダリングされた状態でサーバーから返却されるので初回読み込みが早い
→ ユーザビリティが高く SEO 的にも良い

逆にいうと自分用アプリのような SEO 対策が不要なものに関してはあまり効果はない？
（パフォーマンス面はいいけど）

## SSG / SSR

SSG（Static Site Generator: 静的生成）
ビルド時に必要な HTML を事前に生成。ユーザからリクエスト来たら準備済みの HTML をそのまま消すだけ
→ 高速

SSR（Server Side Rendering: サーバサイドレンダリング）
リクエスト時にレンダリングをサーバ側で行う

SSG と SSR の使い分け
SSG：ブログ、ドキュメント、EC の商品ページなど更新が少ない場所
SSR：SNS のタイムライン、ユーザプロフィールなど更新が多い場所（ビルド以降の変更が反映されないため）
これらはページ単位で決められる

## ISR

ISR（Incremental Static Regeneration）
SSG と SSR の中間っぽいイメージ

ユーザからリクエストが送られると Next.js 側の CDN でキャッシュされる。
re-validate を指定することでキャッシュ時間を設定できる
